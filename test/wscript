cxxflags = '-std=c++11 -Wall -Wextra -Wshadow -g'
libs = ''

def options(opt):
    opt.load('compiler_cxx unittest_gtest')

def configure(conf):
    conf.load('compiler_cxx unittest_gtest')
    conf.check_cxx(cxxflags=cxxflags)
    conf.check_cxx(lib=libs)

def build(bld):
    bld.program(
            features='gtest',
            source='hello_test.cpp',
            target='hello_test',
            includes='. ../src',
            use='hello',
            cxxflags=cxxflags,
            lib=libs,
            linkflags='-g')

# vim: filetype=python
