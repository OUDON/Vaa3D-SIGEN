cxxflags = '-std=c++11 -Wall -Wextra -Wshadow -Woverloaded-virtual -Wnon-virtual-dtor -Wno-reorder -g'
linkflags = '-g'
libs = ''

def options(opt):
    opt.load('compiler_cxx unittest_gtest')

def configure(conf):
    conf.load('compiler_cxx unittest_gtest')
    conf.check_cxx(cxxflags=cxxflags)
    conf.check_cxx(linkflags=linkflags)
    conf.check_cxx(lib=libs)

def build(bld):
    bld.program(
            features='gtest',
            source='hello_test.cpp',
            target='hello_test',
            includes='. ../src',
            use='hello',
            cxxflags=cxxflags,
            linkflags=linkflags,
            lib=libs)
    bld.program(
            features='gtest',
            source='binary_cube_test.cpp',
            target='binary_cube_test',
            includes='. ../src',
            use='binary_cube',
            cxxflags=cxxflags,
            linkflags=linkflags,
            lib=libs)

# vim: filetype=python
