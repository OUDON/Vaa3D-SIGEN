cxxflags = '-std=c++11 -Wall -Wextra -Wshadow -g'
libs = 'boost_system boost_filesystem'

def options(opt):
    opt.load('compiler_cxx')

def configure(conf):
    conf.load('compiler_cxx')
    conf.check_cxx(cxxflags=cxxflags)
    conf.check_cxx(lib=libs)
    conf.check_cfg(
            package='opencv',
            args='--cflags --libs',
            uselib_store='opencv')

def build(bld):
    bld.program(
            source='main.cpp reader/FileReader.cpp',
            target='main',
            includes='.',
            lib=libs,
            use='hello',
            uselib='opencv',
            cxxflags=cxxflags,
            linkflags='-g')

    bld.stlib(
            source='hello.cpp',
            target='hello',
            includes='.',
            lib=libs,
            cxxflags=cxxflags,
            linkflags='-g')

# vim: filetype=python
